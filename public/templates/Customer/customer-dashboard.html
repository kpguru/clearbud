<style type="text/css" ng-init="getBookingByDate(bookingDate)">
  .status-pending{
    color: gray;
  }
  .status-complete{
    color: green;
  }
</style>
<div class="container-fluid" >
  <div class="customer-tab">
    <form class="form-horizontal">

      <ul class="nav nav-tabs">
        <li ng-repeat="step in steps" ng-class="{active: $index==getCurrentStepIndex()}">
          <a href="javascript:void(0)" ng-click="goToStep($index)">{{step}}</a>
        </li>
      </ul>

      <div ng-switch on="selection">

        <!-- First Step -->
        <div ng-switch-when="Appointments">  
          <div class="row">
            <div class="col-sm-8 cleaner-profile-col2" ng-show = "isAppointment" ><h2>No Appointment Found</h2></div>
            <div class="col-sm-4 cleaner-profile-col1">
              <a href='#/search-cleaner'><button class="btn cleaner-profile-btn btn-primary btn-log" >Book A Cleaner</button></a>
              <!-- <a href = "#/customer_rating">rate a Cleaner</a> -->
            </div>
            <div class="search-booking" ng-hide = "isAppointment">
              <div class="dropdown">
                <a class="dropdown-toggle" id="dropdown2" role="button" data-toggle="dropdown" data-target="#" href="">
                  <div>
                    <div class="input-group">
                      <p class="form-control" data-ng-model="bookingDate">{{bookingDate | date:'MM/dd/yyyy'}}</p>
                      <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                    </div>
                  </div>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                  <datetimepicker data-ng-model="bookingDate" ng-change="getBookingByDate(bookingDate)"  data-datetimepicker-config="{ dropdownSelector: '#dropdown2',startView:'day',minView: 'day' }"/>
                </ul>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <div> 
                <div>          
                  <div class="row customer-booking-list" ng-hide = "isAppointment"> 
                    <div> 
                    </div> 
                    <table class = "table customer-booking-table" ng-init="getClenaerName(booking)">
                      <tr>
                        <th>Cleaner Name</th>
                        <th>Booking Address</th>
                        <th>Booking Date</th>
                        <th>Booking Time</th>
                        <th>Amount</th>
                        <th>Status</th>
                      </tr>
                      <tr ng-repeat = "booking in bookings">
                        <td>{{booking.cleaner_firstname}} {{booking.cleaner_lastname}}</td>   
                        <td>{{booking.address1}}, {{booking.address2}} {{booking.city}}</td>
                        <td>{{booking.date_time | date:"dd/MM/yyyy"}}</td>
                        <td>{{booking.date_time | date:" h:mma"}}</td>
                        <td>{{booking.total}}</td> 
                        <td class="status-pending" ng-if="booking.status=='Pending'">{{booking.status}}</td> 
                        <td class="status-complete" ng-if="booking.status =='Accepted' && booking.date_time > timestampDate">{{booking.status}}</td>
                        <td class="status-complete" ng-if="booking.status=='Rejected'">{{booking.status}}</td>
                        <td class="status-complete" ng-if="booking.status=='Completed'">{{booking.status}}</td>
                        <td class="status-complete" ng-if="booking.date_time < timestampDate && booking.status=='Accepted'"><a href="#/customer_rating" ng-click="setBooking(booking)">Complete</a></td>
                      </tr>
                    </table>        
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Second Step -->
        <div ng-switch-when="Account">
          <div class="row">
            <div class="col-sm-2 cleaner-profile-col2"><h2>About You</h2></div>
            <div class="col-sm-1 cleaner-profile-col1">
                <a href='#/customer-edit/{{currentUser.$id}}'><button class="btn cleaner-profile-btn btn-primary btn-lg" >Edit Account</button></a>
            </div>
          </div>
          <div>
            <table class="table">
              <tbody>
                <tr>
                  <td>Name</td>
                  <td></td>
                  <td>{{currentUser.firstname}} {{currentUser.lastname}}</td>
                </tr>
                <tr>
                  <td>Phone No</td>
                  <td></td>
                  <td>{{currentUser.phone}}</td>
                </tr>
                <tr>
                  <td>Email</td>
                  <td></td>
                  <td>{{currentUser.email}}</td>
                </tr>
                <tr>
                  <td>Address</td>
                  <td></td>
                  <td>{{currentUser.address1}} {{currentUser.address2}}</td>
                </tr>
                <tr>
                  <td>City</td>
                  <td></td>
                  <td>{{currentUser.city}}</td>
                </tr>
                <tr>
                  <td>State</td>
                  <td></td>
                  <td>{{currentUser.state}}</td>
                </tr>
                <tr>
                  <td>Photo</td>
                  <td></td>
                  <td><div>
                          <img id="newLogo" ng-src="{{currentUser.customer_image}}" width="97px" height="80px"/>
                      </div></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
